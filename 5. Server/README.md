# Лабораторная работа №5.

# Тема: "Обмен данными по именованным каналам".

## Задача. 
Написать программу для управления доступом параллельных процессов к файлу по именованным каналам.

## Формулировка задачи.
1. Разработать процесс-сервер, который выполняет следующие действия.
* Создает бинарный файл, записи которого имеют следующую структуру:
```
struct employee
{
int num; // идентификационный номер сотрудника
char name[10]; // имя сотрудника
double hours; // количество отработанных часов
};
```
Имя файла и данные о студентах вводятся с консоли.
* Выводит созданный файл на консоль.
* Запускает процессы-клиенты **Client**, которые выполняют доступ к файлу по именованному каналу. Количество процессов клиентов вводится с консоли.
* Обслуживает запросы процессов-клиентов следующим образом:
* * если процесс-клиент запрашивает модификацию записи файла, то доступ к этой записи файла блокируется для других процессов клиентов до завершения модификации записи клиентом;
* * если процесс-клиент запрашивает чтение записи файла, то доступ к этой записи для других процессов-клиентов:
* * * не блокируется, если они также запрашивают доступ на чтение данных;
* * * блокируется, если они запрашивают доступ на запись данных.
* После завершения работы всех процессов клиентов выводит на консоль модифицированный файл.
* По команде с консоли завершает свою работу.
2. Разработать процесс-клиент Client, который выполняет следующие действия:
* Выполняет цикл:
* * Запрашивает с консоли выполнение одной из операций:
* * * модификация записи файла;
* * * чтение записи;
* * * выход из цикла;
* * После ввода требуемых данных выполняет эту операцию.
* Доступ к записям файла осуществляется по ключу, которым является ID сотрудника.
* При модификации записи процесс-клиент выполняет следующие действия:
* * Запрашивает ключ записи;
* * Посылает запрос на сервер;
* * Выводит полученную с сервера запись на консоль;
* * Запрашивает новые значения полей;
* * По команде с консоли посылает измененную запись на сервер;
* * По команде с консоли завершает доступ к записи.
* При чтении записи процесс-клиент выполняет следующие действия:
* * Запрашивает ключ записи;
* * Посылает запрос на сервер;
* * Выводит полученную с сервера запись на консоль;
* * По команде с консоли завершает доступ к записи.
