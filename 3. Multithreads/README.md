# Лабораторная работа №3.
# Тема: «Синхронизация потоков при помощи критических секций и событий. Обработка тупиков».

## Задача. 
Написать программу для консольного процесса, который состоит из потока **main** и нескольких экземпляров потока **marker**.

## Поток main 
Должен выполнять следующие действия:
1. Захватить память под массив целых чисел, размерность которого вводится с консоли.
2. Инициализировать элементы массива нулями.
3. Запросить количество потоков marker, которые требуется запустить.
4. Запустить заданное количество экземпляров потока marker. В качестве параметра
каждому экземпляру потока marker передать его порядковый номер в запуске.
5. Дать сигнал на начало работы всех потоков marker.
6. Выполнять в цикле следующие действия:
* Ждать, пока все потоки marker не подадут сигналы о невозможности
продолжения своей работы.
* Вывести содержимое массива на консоль.
* Запросить с консоли порядковый номер потока marker, которому будет подан
сигнал на завершение своей работы.
* Подать потоку marker, номер которого получен в пункте 6.3, сигнал на
завершение работы.
* Ждать завершение работы потока marker, которому был подан сигнал на
завершение работы в пункте 6.4.
* Вывести содержимое массива на консоль.
* Подать сигнал на продолжение работы, оставшимся потокам marker.
7. Завершить свою работу после завершения работы всех потоков marker.
## Поток marker 
Должен выполнять следующие действия:
1. Начать работу по сигналу от потока main.
2. Инициализировать генерацию последовательности случайных чисел. Для этого
использовать функцию srand, которой передать в качестве аргумента свой
порядковый номер.
3. Работать циклически, выполняя на каждом цикле следующие действия:
* Генерировать случайное число, используя функцию rand.
* Разделить это число по модулю на размерность массива.
* Если элемент массива, индекс которого равен результату деления, равен нулю, то
выполнить следующие действия:
* * Поспать 5 миллисекунд.
* * Занести в элемент, индекс которого вычислен, свой порядковый номер.
* * Поспать 5 миллисекунд.
* * Продолжить исполнение цикла 3.
* В противном случае:
* * Вывести на консоль следующую информацию:
* * * свой порядковый номер;
* * * количество помеченных элементов;
* * * индекс элемента массива, который невозможно пометить.
* * Дать сигнал потоку main на невозможность продолжения своей работы.
* * Ждать ответный сигнал на продолжение или завершение работы от потока main.

4. Если получен сигнал на завершение работы, то выполнить следующие действия:
* Заполнить нулями в массиве все элементы, которые он пометил.
* Завершить работу.
5. Если получен сигнал на продолжение работы, то продолжить исполнение цикла изпункта 3.
